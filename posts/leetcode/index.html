<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>LeetCode | CYLiu</title><meta name=keywords content="Code"><meta name=description content="This post is used to log my leetcode problem solving.
2785. Sort Vowels in a String 2025.09.11
Given a 0-indexed string s, permute s to get a new string t such that:

All consonants remain in their original places. More formally, if there is an index i with 0 <= i < s.length such that s[i] is a consonant, then t[i] = s[i].
The vowels must be sorted in the nondecreasing order of their ASCII values. More formally, for pairs of indices i, j with 0 <= i < j < s.length such that s[i] and s[j] are vowels, then t[i] must not have a higher ASCII value than t[j].

Return the resulting string."><meta name=author content="CYLiu"><link rel=canonical href=https://cyliu.cc/posts/leetcode/><link crossorigin=anonymous href=/assets/css/stylesheet.bd2999ccc43a9bffe056f0950111a8a54491781af98d1abb80ca3d5366719dc2.css integrity="sha256-vSmZzMQ6m//gVvCVARGopUSReBr5jRq7gMo9U2ZxncI=" rel="preload stylesheet" as=style><link rel=icon href=https://cyliu.cc/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://cyliu.cc/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://cyliu.cc/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://cyliu.cc/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://cyliu.cc/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://cyliu.cc/posts/leetcode/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta property="og:url" content="https://cyliu.cc/posts/leetcode/"><meta property="og:site_name" content="CYLiu"><meta property="og:title" content="LeetCode"><meta property="og:description" content="This post is used to log my leetcode problem solving.
2785. Sort Vowels in a String 2025.09.11 Given a 0-indexed string s, permute s to get a new string t such that:
All consonants remain in their original places. More formally, if there is an index i with 0 <= i < s.length such that s[i] is a consonant, then t[i] = s[i]. The vowels must be sorted in the nondecreasing order of their ASCII values. More formally, for pairs of indices i, j with 0 <= i < j < s.length such that s[i] and s[j] are vowels, then t[i] must not have a higher ASCII value than t[j]. Return the resulting string."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-11T15:46:05+08:00"><meta property="article:modified_time" content="2025-09-11T15:46:05+08:00"><meta property="article:tag" content="Code"><meta property="og:image" content="https://cyliu.cc/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cyliu.cc/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="LeetCode"><meta name=twitter:description content="This post is used to log my leetcode problem solving.
2785. Sort Vowels in a String 2025.09.11
Given a 0-indexed string s, permute s to get a new string t such that:

All consonants remain in their original places. More formally, if there is an index i with 0 <= i < s.length such that s[i] is a consonant, then t[i] = s[i].
The vowels must be sorted in the nondecreasing order of their ASCII values. More formally, for pairs of indices i, j with 0 <= i < j < s.length such that s[i] and s[j] are vowels, then t[i] must not have a higher ASCII value than t[j].

Return the resulting string."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://cyliu.cc/posts/"},{"@type":"ListItem","position":2,"name":"LeetCode","item":"https://cyliu.cc/posts/leetcode/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"LeetCode","name":"LeetCode","description":"This post is used to log my leetcode problem solving.\n2785. Sort Vowels in a String 2025.09.11 Given a 0-indexed string s, permute s to get a new string t such that:\nAll consonants remain in their original places. More formally, if there is an index i with 0 \u0026lt;= i \u0026lt; s.length such that s[i] is a consonant, then t[i] = s[i]. The vowels must be sorted in the nondecreasing order of their ASCII values. More formally, for pairs of indices i, j with 0 \u0026lt;= i \u0026lt; j \u0026lt; s.length such that s[i] and s[j] are vowels, then t[i] must not have a higher ASCII value than t[j]. Return the resulting string.\n","keywords":["Code"],"articleBody":"This post is used to log my leetcode problem solving.\n2785. Sort Vowels in a String 2025.09.11 Given a 0-indexed string s, permute s to get a new string t such that:\nAll consonants remain in their original places. More formally, if there is an index i with 0 \u003c= i \u003c s.length such that s[i] is a consonant, then t[i] = s[i]. The vowels must be sorted in the nondecreasing order of their ASCII values. More formally, for pairs of indices i, j with 0 \u003c= i \u003c j \u003c s.length such that s[i] and s[j] are vowels, then t[i] must not have a higher ASCII value than t[j]. Return the resulting string.\nThe vowels are 'a', 'e', 'i', 'o', and 'u', and they can appear in lowercase or uppercase. Consonants comprise all letters that are not vowels.\nExample 1:\nInput: s = “lEetcOde”\nOutput: “lEOtcede” Explanation: ‘E’, ‘O’, and ’e’ are the vowels in s; ’l’, ’t’, ‘c’, and ’d’ are all consonants. The vowels are sorted according to their ASCII values, and the consonants remain in the same places.\nExample 2:\nInput: s = “lYmpH”\nOutput: “lYmpH”\nExplanation: There are no vowels in s (all characters in s are consonants), so we return “lYmpH”.\nConstraints:\n1 \u003c= s.length \u003c= 105 s consists only of letters of the English alphabet in uppercase and lowercase. Solution\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 class Solution(object): def sortVowels(self, s): \"\"\" :type s: str :rtype: str \"\"\" s = list(s) vowels = ['A','E','I','O','U','a','e','i','o','u'] vowel_indice = [] vowel_counts = [0] * len(vowels) for i,char in enumerate(s): if char in vowels: vowel_counts[vowels.index(char)] += 1 vowel_indice.append(i) for i,char in enumerate(vowels): start_index = sum(vowel_counts[:i]) if i else 0 end_index = sum(vowel_counts[:i+1]) for idx in range(start_index, end_index): s[vowel_indice[idx]] = char return \"\".join(s) 3227. Vowels Game in a String 2025.09.12 Alice and Bob are playing a game on a string.\nYou are given a string s, Alice and Bob will take turns playing the following game where Alice starts first:\nOn Alice’s turn, she has to remove any non-empty substring from s that contains an odd number of vowels. On Bob’s turn, he has to remove any non-empty substring from s that contains an even number of vowels. The first player who cannot make a move on their turn loses the game. We assume that both Alice and Bob play optimally.\nReturn true if Alice wins the game, and false otherwise.\nThe English vowels are: a, e, i, o, and u.\nExample 1:\nInput: s = “leetcoder”\nOutput: true\nExplanation:\nAlice can win the game as follows:\nAlice plays first, she can delete the underlined substring in s = \"**leetco**der\" which contains 3 vowels. The resulting string is s = \"der\". Bob plays second, he can delete the underlined substring in s = \"**d**er\" which contains 0 vowels. The resulting string is s = \"er\". Alice plays third, she can delete the whole string s = \"**er**\" which contains 1 vowel. Bob plays fourth, since the string is empty, there is no valid play for Bob. So Alice wins the game. Example 2:\nInput: s = “bbcd”\nOutput: false\nExplanation:\nThere is no valid play for Alice in her first turn, so Alice loses the game.\nConstraints:\n1 \u003c= s.length \u003c= 105 s consists only of lowercase English letters. Solution\nConsider only the number of vowels. If the number of vowels is 0, Alice fails. If it’s odd, Alice could remove the whole string, Alice wins. If it’s even, after removing odd number of vowels, the remaining number is odd, Alice wins.\n1 2 3 4 5 6 7 8 9 10 11 class Solution(object): def doesAliceWin(self, s): \"\"\" :type s: str :rtype: bool \"\"\" vowels = 'aeiou' for char in s: if char in vowels: return True return False 3541. Find Most Frequent Vowel and Consonant 2025.09.13 You are given a string s consisting of lowercase English letters ('a' to 'z').\nYour task is to:\nFind the vowel (one of 'a', 'e', 'i', 'o', or 'u') with the maximum frequency. Find the consonant (all other letters excluding vowels) with the maximum frequency. Return the sum of the two frequencies.\nNote: If multiple vowels or consonants have the same maximum frequency, you may choose any one of them. If there are no vowels or no consonants in the string, consider their frequency as 0.\nThe frequency of a letter x is the number of times it occurs in the string.\nExample 1:\nInput: s = “successes”\nOutput: 6\nExplanation:\nThe vowels are: 'u' (frequency 1), 'e' (frequency 2). The maximum frequency is 2. The consonants are: 's' (frequency 4), 'c' (frequency 2). The maximum frequency is 4. The output is 2 + 4 = 6. Example 2:\nInput: s = “aeiaeia”\nOutput: 3\nExplanation:\nThe vowels are: 'a' (frequency 3), 'e' ( frequency 2), 'i' (frequency 2). The maximum frequency is 3. There are no consonants in s. Hence, maximum consonant frequency = 0. The output is 3 + 0 = 3. Constraints:\n1 \u003c= s.length \u003c= 100 s consists of lowercase English letters only. Solution\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 class Solution(object): def maxFreqSum(self, s): \"\"\" :type s: str :rtype: int \"\"\" freqs = [0] * 26 for char in s: freqs[ord(char)-ord('a')] += 1 vowel_indice = [ord(i)-ord('a') for i in 'aeiou'] vowel_freqs = [freqs[i] for i in vowel_indice] conson_freqs = [freqs[i] for i in range(26) if i not in vowel_indice] return max(vowel_freqs) + max(conson_freqs) 966. Vowel Spellchecker 2025.09.14 Given a wordlist, we want to implement a spellchecker that converts a query word into a correct word.\nFor a given query word, the spell checker handles two categories of spelling mistakes:\nCapitalization: If the query matches a word in the wordlist (case-insensitive), then the query word is returned with the same case as the case in the wordlist. Example: wordlist = [\"yellow\"], query = \"YellOw\": correct = \"yellow\" Example: wordlist = [\"Yellow\"], query = \"yellow\": correct = \"Yellow\" Example: wordlist = [\"yellow\"], query = \"yellow\": correct = \"yellow\" Vowel Errors: If after replacing the vowels ('a', 'e', 'i', 'o', 'u') of the query word with any vowel individually, it matches a word in the wordlist (case-insensitive), then the query word is returned with the same case as the match in the wordlist. Example: wordlist = [\"YellOw\"], query = \"yollow\": correct = \"YellOw\" Example: wordlist = [\"YellOw\"], query = \"yeellow\": correct = \"\" (no match) Example: wordlist = [\"YellOw\"], query = \"yllw\": correct = \"\" (no match) In addition, the spell checker operates under the following precedence rules:\nWhen the query exactly matches a word in the wordlist (case-sensitive), you should return the same word back. When the query matches a word up to capitlization, you should return the first such match in the wordlist. When the query matches a word up to vowel errors, you should return the first such match in the wordlist. If the query has no matches in the wordlist, you should return the empty string. Given some queries, return a list of words answer, where answer[i] is the correct word for query = queries[i].\nExample 1:\nInput: wordlist = [“KiTe”,“kite”,“hare”,“Hare”], queries = [“kite”,“Kite”,“KiTe”,“Hare”,“HARE”,“Hear”,“hear”,“keti”,“keet”,“keto”] Output: [“kite”,“KiTe”,“KiTe”,“Hare”,“hare”,\"\",\"\",“KiTe”,\"\",“KiTe”]\nExample 2:\nInput: wordlist = [“yellow”], queries = [“YellOw”] Output: [“yellow”]\nConstraints:\n1 \u003c= wordlist.length, queries.length \u003c= 5000 1 \u003c= wordlist[i].length, queries[i].length \u003c= 7 wordlist[i] and queries[i] consist only of only English letters. Solution\nFirst Try: save all matches in one hashmap and extract by priority (TLE in some testcases) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 class Solution(object): def spellchecker(self, wordlist, queries): \"\"\" :type wordlist: List[str] :type queries: List[str] :rtype: List[str] \"\"\" def vowel_error(word1, word2): if len(word1) != len(word2): return False for i in range(len(word1)): if word1[i].lower() != word2[i].lower(): if word1[i].lower() in \"aeiou\" and word2[i].lower() in \"aeiou\": continue else: return False return True match_map = dict() for query in queries: for word in wordlist: if word.lower() == query.lower() or vowel_error(query, word): match_map.setdefault(query, []).append(word) res = [] for k in queries: v = match_map.get(k, []) if not v: res.append(\"\") elif len(v) == 1: res.append(v[0]) else: if k in v: res.append(k) else: flag = False for i in v: if i.lower() == k.lower(): res.append(i) flag = True break if not flag: for i in v: if vowel_error(i, k): res.append(i) break return res Optimized by Gemini: Save results in three different hashmaps and lookup hashmap by priority 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 class Solution(object): def spellchecker(self, wordlist, queries): \"\"\" :type wordlist: List[str] :type queries: List[str] :rtype: List[str] \"\"\" # Helper function to create a \"devoweled\" version of a word. # Example: \"Kite\" -\u003e \"k*t*\" def devowel(word): vowels = \"aeiou\" # Replace each vowel with a placeholder '*' return \"\".join('*' if char in vowels else char for char in word.lower()) # --- Step 1: Pre-process the wordlist into fast-lookup maps --- # For exact matches (Priority 1) exact_words = set(wordlist) # For case-insensitive matches (Priority 2) # Maps a lowercase word to its first occurrence in the original wordlist. case_map = {} # For vowel-error matches (Priority 3) # Maps a devoweled word to its first occurrence in the original wordlist. vowel_map = {} for word in wordlist: lower_word = word.lower() devoweled_word = devowel(word) # setdefault only sets the value if the key is not already present. # This correctly handles the \"first occurrence\" rule. case_map.setdefault(lower_word, word) vowel_map.setdefault(devoweled_word, word) # --- Step 2: Process queries using the maps --- result = [] for query in queries: # Rule 1: Check for an exact match if query in exact_words: result.append(query) continue lower_query = query.lower() # Rule 2: Check for a case-insensitive match if lower_query in case_map: result.append(case_map[lower_query]) continue devoweled_query = devowel(query) # Rule 3: Check for a vowel-error match if devoweled_query in vowel_map: result.append(vowel_map[devoweled_query]) continue # Rule 4: No match found result.append(\"\") return result 1935. Maximum Number of Words You Can Type 2025.09.15 There is a malfunctioning keyboard where some letter keys do not work. All other keys on the keyboard work properly.\nGiven a string text of words separated by a single space (no leading or trailing spaces) and a string brokenLetters of all distinct letter keys that are broken, return the number of words in text you can fully type using this keyboard.\nExample 1:\nInput: text = “hello world”, brokenLetters = “ad” Output: 1 Explanation: We cannot type “world” because the ’d’ key is broken.\nExample 2:\nInput: text = “leet code”, brokenLetters = “lt” Output: 1 Explanation: We cannot type “leet” because the ’l’ and ’t’ keys are broken.\nExample 3:\nInput: text = “leet code”, brokenLetters = “e” Output: 0 Explanation: We cannot type either word because the ’e’ key is broken.\nConstraints:\n1 \u003c= text.length \u003c= 104 0 \u003c= brokenLetters.length \u003c= 26 text consists of words separated by a single space without any leading or trailing spaces. Each word only consists of lowercase English letters. brokenLetters consists of distinct lowercase English letters. Solution\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 class Solution(object): def canBeTypedWords(self, text, brokenLetters): \"\"\" :type text: str :type brokenLetters: str :rtype: int \"\"\" words = text.split() count = 0 for word in words: flag = True for char in brokenLetters: if char in word: flag = False break if flag: count += 1 return count 2197. Replace Non-Coprime Numbers in Array 2025.09.16 You are given an array of integers nums. Perform the following steps:\nFind any two adjacent numbers in nums that are non-coprime. If no such numbers are found, stop the process. Otherwise, delete the two numbers and replace them with their LCM (Least Common Multiple). Repeat this process as long as you keep finding two adjacent non-coprime numbers. Return the final modified array. It can be shown that replacing adjacent non-coprime numbers in any arbitrary order will lead to the same result.\nThe test cases are generated such that the values in the final array are less than or equal to 108.\nTwo values x and y are non-coprime if GCD(x, y) \u003e 1 where GCD(x, y) is the Greatest Common Divisor of x and y.\nExample 1:\nInput: nums = [6,4,3,2,7,6,2] Output: [12,7,6] Explanation:\n(6, 4) are non-coprime with LCM(6, 4) = 12. Now, nums = [12,3,2,7,6,2]. (12, 3) are non-coprime with LCM(12, 3) = 12. Now, nums = [12,2,7,6,2]. (12, 2) are non-coprime with LCM(12, 2) = 12. Now, nums = [12,7,6,2]. (6, 2) are non-coprime with LCM(6, 2) = 6. Now, nums = [12,7,6]. There are no more adjacent non-coprime numbers in nums. Thus, the final modified array is [12,7,6]. Note that there are other ways to obtain the same resultant array. Example 2:\nInput: nums = [2,2,1,1,3,3,3] Output: [2,1,1,3] Explanation:\n(3, 3) are non-coprime with LCM(3, 3) = 3. Now, nums = [2,2,1,1,3,3]. (3, 3) are non-coprime with LCM(3, 3) = 3. Now, nums = [2,2,1,1,3]. (2, 2) are non-coprime with LCM(2, 2) = 2. Now, nums = [2,1,1,3]. There are no more adjacent non-coprime numbers in nums. Thus, the final modified array is [2,1,1,3]. Note that there are other ways to obtain the same resultant array. Constraints:\n1 \u003c= nums.length \u003c= 105 1 \u003c= nums[i] \u003c= 105 The test cases are generated such that the values in the final array are less than or equal to 108. Solution\nIntuitive solution, followed by instructions in the description, but fails by TLE on some testcases 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 class Solution(object): def replaceNonCoprimes(self, nums): \"\"\" :type nums: List[int] :rtype: List[int] \"\"\" def gcd(a, b): while b != 0: a, b = b, a % b return a def lcm(a, b): return a * b / gcd(a, b) if len(nums) \u003c 2: return nums def NonCoprime(nums): for i in range(len(nums)-1): if gcd(nums[i], nums[i+1]) \u003e 1: return False return True while not NonCoprime(nums): for i in range(len(nums)-1): if gcd(nums[i], nums[i+1]) \u003e 1: nums[i+1] = lcm(nums[i], nums[i+1]) nums[i] = None nums = [num for num in nums if num] return nums Optimized by Claude by stack 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 class Solution(object): def replaceNonCoprimes(self, nums): \"\"\" :type nums: List[int] :rtype: List[int] \"\"\" def gcd(a, b): while b != 0: a, b = b, a % b return a def lcm(a, b): return a * b // gcd(a, b) # Use integer division if len(nums) \u003c 2: return nums stack = [] for num in nums: stack.append(num) # Keep merging with the previous element while they're not coprime while len(stack) \u003e= 2 and gcd(stack[-2], stack[-1]) \u003e 1: # Pop the last two elements, compute their LCM, and push back b = stack.pop() a = stack.pop() stack.append(lcm(a, b)) return stack 2353. Design a Food Rating System 2025.09.17 Design a food rating system that can do the following:\nModify the rating of a food item listed in the system. Return the highest-rated food item for a type of cuisine in the system. Implement the FoodRatings class:\nFoodRatings(String[] foods, String[] cuisines, int[] ratings) Initializes the system. The food items are described by foods, cuisines and ratings, all of which have a length of n. foods[i] is the name of the ith food, cuisines[i] is the type of cuisine of the ith food, and ratings[i] is the initial rating of the ith food. void changeRating(String food, int newRating) Changes the rating of the food item with the name food. String highestRated(String cuisine) Returns the name of the food item that has the highest rating for the given type of cuisine. If there is a tie, return the item with the lexicographically smaller name. Note that a string x is lexicographically smaller than string y if x comes before y in dictionary order, that is, either x is a prefix of y, or if i is the first position such that x[i] != y[i], then x[i] comes before y[i] in alphabetic order.\nExample 1:\nInput [“FoodRatings”, “highestRated”, “highestRated”, “changeRating”, “highestRated”, “changeRating”, “highestRated”] [[[“kimchi”, “miso”, “sushi”, “moussaka”, “ramen”, “bulgogi”], [“korean”, “japanese”, “japanese”, “greek”, “japanese”, “korean”], [9, 12, 8, 15, 14, 7]], [“korean”], [“japanese”], [“sushi”, 16], [“japanese”], [“ramen”, 16], [“japanese”]]\nOutput\n[null, “kimchi”, “ramen”, null, “sushi”, null, “ramen”]\nExplanation FoodRatings foodRatings = new FoodRatings([“kimchi”, “miso”, “sushi”, “moussaka”, “ramen”, “bulgogi”], [“korean”, “japanese”, “japanese”, “greek”, “japanese”, “korean”], [9, 12, 8, 15, 14, 7]);\nfoodRatings.highestRated(“korean”); // return “kimchi”\n// “kimchi” is the highest rated korean food with a rating of 9.\nfoodRatings.highestRated(“japanese”); // return “ramen”\n// “ramen” is the highest rated japanese food with a rating of 14.\nfoodRatings.changeRating(“sushi”, 16); // “sushi” now has a rating of 16.\nfoodRatings.highestRated(“japanese”); // return “sushi”\n// “sushi” is the highest rated japanese food with a rating of 16.\nfoodRatings.changeRating(“ramen”, 16); // “ramen” now has a rating of 16.\nfoodRatings.highestRated(“japanese”); // return “ramen”\n// Both “sushi” and “ramen” have a rating of 16.\n// However, “ramen” is lexicographically smaller than “sushi”.\nConstraints:\n1 \u003c= n \u003c= 2 * 104 n == foods.length == cuisines.length == ratings.length 1 \u003c= foods[i].length, cuisines[i].length \u003c= 10 foods[i], cuisines[i] consist of lowercase English letters. 1 \u003c= ratings[i] \u003c= 108 All the strings in foods are distinct. food will be the name of a food item in the system across all calls to changeRating. cuisine will be a type of cuisine of at least one food item in the system across all calls to highestRated. At most 2 * 104 calls in total will be made to changeRating and highestRated. Solution\nDirect implementation by lists. $\\mathcal O(n)$ time complexity. TLE on some testcases 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 class FoodRatings(object): def __init__(self, foods, cuisines, ratings): \"\"\" :type foods: List[str] :type cuisines: List[str] :type ratings: List[int] \"\"\" self.foods = foods self.cuisines = cuisines self.ratings = ratings def changeRating(self, food, newRating): \"\"\" :type food: str :type newRating: int :rtype: None \"\"\" self.ratings[self.foods.index(food)] = newRating def highestRated(self, cuisine): \"\"\" :type cuisine: str :rtype: str \"\"\" idx = [i for i in range(len(self.cuisines)) if self.cuisines[i] == cuisine] max_rating = max(self.ratings[i] for i in idx) max_food = list() for i in idx: if self.ratings[i] == max_rating: max_food.append(self.foods[i]) return min(max_food) # Your FoodRatings object will be instantiated and called as such: # obj = FoodRatings(foods, cuisines, ratings) # obj.changeRating(food,newRating) # param_2 = obj.highestRated(cuisine) Optimized by hashtable and heap 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 import heapq class FoodRatings(object): def __init__(self, foods, cuisines, ratings): \"\"\" :type foods: List[str] :type cuisines: List[str] :type ratings: List[int] \"\"\" self.food_info = {} self.cuisines = {} for f,c,r in zip(foods, cuisines, ratings): self.food_info[f] = [c, r] if c not in self.cuisines: self.cuisines[c] = [] heapq.heappush(self.cuisines[c], (-r, f)) def changeRating(self, food, newRating): \"\"\" :type food: str :type newRating: int :rtype: None \"\"\" self.food_info[food][1] = newRating cuisine = self.food_info[food][0] heapq.heappush(self.cuisines[cuisine], (-newRating, food)) def highestRated(self, cuisine): \"\"\" :type cuisine: str :rtype: str \"\"\" heap = self.cuisines[cuisine] while heap: rating, food = heap[0] rating = -rating if rating == self.food_info[food][1]: return food else: heapq.heappop(heap) # Your FoodRatings object will be instantiated and called as such: # obj = FoodRatings(foods, cuisines, ratings) # obj.changeRating(food,newRating) # param_2 = obj.highestRated(cuisine) 3408. Design Task Manager 2025.09.18 There is a task management system that allows users to manage their tasks, each associated with a priority. The system should efficiently handle adding, modifying, executing, and removing tasks.\nImplement the TaskManager class:\nTaskManager(vector","wordCount":"4021","inLanguage":"en","image":"https://cyliu.cc/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-09-11T15:46:05+08:00","dateModified":"2025-09-11T15:46:05+08:00","author":{"@type":"Person","name":"CYLiu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://cyliu.cc/posts/leetcode/"},"publisher":{"@type":"Organization","name":"CYLiu","logo":{"@type":"ImageObject","url":"https://cyliu.cc/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://cyliu.cc/ accesskey=h title="Home (Alt + H)"><img src=https://cyliu.cc/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://cyliu.cc/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://cyliu.cc/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://cyliu.cc/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://cyliu.cc/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://cyliu.cc/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://cyliu.cc/>Home</a>&nbsp;»&nbsp;<a href=https://cyliu.cc/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">LeetCode</h1><div class=post-meta><span title='2025-09-11 15:46:05 +0800 CST'>September 11, 2025</span>&nbsp;·&nbsp;19 min&nbsp;·&nbsp;4021 words&nbsp;·&nbsp;CYLiu&nbsp;|&nbsp;<a href="mailto:cyliu@cyliu.cc?subject=Suggesting%20changes%20for%20/posts/leetcode.md" rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li><a href=#2785-sort-vowels-in-a-string-20250911>2785. Sort Vowels in a String 2025.09.11</a></li><li><a href=#3227-vowels-game-in-a-string-20250912>3227. Vowels Game in a String 2025.09.12</a></li><li><a href=#3541-find-most-frequent-vowel-and-consonant-20250913>3541. Find Most Frequent Vowel and Consonant 2025.09.13</a></li><li><a href=#966-vowel-spellchecker-20250914>966. Vowel Spellchecker 2025.09.14</a></li><li><a href=#1935-maximum-number-of-words-you-can-type-20250915>1935. Maximum Number of Words You Can Type 2025.09.15</a></li><li><a href=#2197-replace-non-coprime-numbers-in-array-20250916>2197. Replace Non-Coprime Numbers in Array 2025.09.16</a></li><li><a href=#2353-design-a-food-rating-system-20250917>2353. Design a Food Rating System 2025.09.17</a></li><li><a href=#3408-design-task-manager-20250918>3408. Design Task Manager 2025.09.18</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p>This post is used to log my leetcode problem solving.</p><h3 id=2785-sort-vowels-in-a-string-20250911><a href=https://leetcode.com/problems/sort-vowels-in-a-string>2785. Sort Vowels in a String</a> 2025.09.11<a hidden class=anchor aria-hidden=true href=#2785-sort-vowels-in-a-string-20250911>#</a></h3><p>Given a <strong>0-indexed</strong> string <code>s</code>, <strong>permute</strong> <code>s</code> to get a new string <code>t</code> such that:</p><ul><li>All consonants remain in their original places. More formally, if there is an index <code>i</code> with <code>0 &lt;= i &lt; s.length</code> such that <code>s[i]</code> is a consonant, then <code>t[i] = s[i]</code>.</li><li>The vowels must be sorted in the <strong>nondecreasing</strong> order of their <strong>ASCII</strong> values. More formally, for pairs of indices <code>i</code>, <code>j</code> with <code>0 &lt;= i &lt; j &lt; s.length</code> such that <code>s[i]</code> and <code>s[j]</code> are vowels, then <code>t[i]</code> must not have a higher ASCII value than <code>t[j]</code>.</li></ul><p>Return <em>the resulting string</em>.</p><p>The vowels are <code>'a'</code>, <code>'e'</code>, <code>'i'</code>, <code>'o'</code>, and <code>'u'</code>, and they can appear in lowercase or uppercase. Consonants comprise all letters that are not vowels.</p><p><strong>Example 1:</strong></p><p><strong>Input:</strong> s = &ldquo;lEetcOde&rdquo;<br><strong>Output:</strong> &ldquo;lEOtcede&rdquo;<br><strong>Explanation:</strong> &lsquo;E&rsquo;, &lsquo;O&rsquo;, and &rsquo;e&rsquo; are the vowels in s; &rsquo;l&rsquo;, &rsquo;t&rsquo;, &lsquo;c&rsquo;, and &rsquo;d&rsquo; are all consonants. The vowels are sorted according to their ASCII values, and the consonants remain in the same places.</p><p><strong>Example 2:</strong></p><p><strong>Input:</strong> s = &ldquo;lYmpH&rdquo;<br><strong>Output:</strong> &ldquo;lYmpH&rdquo;<br><strong>Explanation:</strong> There are no vowels in s (all characters in s are consonants), so we return &ldquo;lYmpH&rdquo;.</p><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= s.length &lt;= 105</code></li><li><code>s</code> consists only of letters of the English alphabet in <strong>uppercase and lowercase</strong>.</li></ul><hr><p><strong>Solution</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>sortVowels</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type s: str
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: str
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>vowels</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;A&#39;</span><span class=p>,</span><span class=s1>&#39;E&#39;</span><span class=p>,</span><span class=s1>&#39;I&#39;</span><span class=p>,</span><span class=s1>&#39;O&#39;</span><span class=p>,</span><span class=s1>&#39;U&#39;</span><span class=p>,</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;e&#39;</span><span class=p>,</span><span class=s1>&#39;i&#39;</span><span class=p>,</span><span class=s1>&#39;o&#39;</span><span class=p>,</span><span class=s1>&#39;u&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>vowel_indice</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>vowel_counts</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=nb>len</span><span class=p>(</span><span class=n>vowels</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span><span class=p>,</span><span class=n>char</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>s</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>vowels</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>vowel_counts</span><span class=p>[</span><span class=n>vowels</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>char</span><span class=p>)]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>                <span class=n>vowel_indice</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span><span class=p>,</span><span class=n>char</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>vowels</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>start_index</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>vowel_counts</span><span class=p>[:</span><span class=n>i</span><span class=p>])</span> <span class=k>if</span> <span class=n>i</span> <span class=k>else</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>            <span class=n>end_index</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>vowel_counts</span><span class=p>[:</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>idx</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>start_index</span><span class=p>,</span> <span class=n>end_index</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=n>s</span><span class=p>[</span><span class=n>vowel_indice</span><span class=p>[</span><span class=n>idx</span><span class=p>]]</span> <span class=o>=</span> <span class=n>char</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=3227-vowels-game-in-a-string-20250912><a href=https://leetcode.com/problems/vowels-game-in-a-string/>3227. Vowels Game in a String</a> 2025.09.12<a hidden class=anchor aria-hidden=true href=#3227-vowels-game-in-a-string-20250912>#</a></h3><p>Alice and Bob are playing a game on a string.</p><p>You are given a string <code>s</code>, Alice and Bob will take turns playing the following game where Alice starts <strong>first</strong>:</p><ul><li>On Alice&rsquo;s turn, she has to remove any <strong>non-empty</strong> substring from <code>s</code> that contains an <strong>odd</strong> number of vowels.</li><li>On Bob&rsquo;s turn, he has to remove any <strong>non-empty</strong> substring from <code>s</code> that contains an <strong>even</strong> number of vowels.</li></ul><p>The first player who cannot make a move on their turn loses the game. We assume that both Alice and Bob play <strong>optimally</strong>.</p><p>Return <code>true</code> if Alice wins the game, and <code>false</code> otherwise.</p><p>The English vowels are: <code>a</code>, <code>e</code>, <code>i</code>, <code>o</code>, and <code>u</code>.</p><p><strong>Example 1:</strong></p><p><strong>Input:</strong> s = &ldquo;leetcoder&rdquo;</p><p><strong>Output:</strong> true</p><p><strong>Explanation:</strong><br>Alice can win the game as follows:</p><ul><li>Alice plays first, she can delete the underlined substring in <code>s = "**leetco**der"</code> which contains 3 vowels. The resulting string is <code>s = "der"</code>.</li><li>Bob plays second, he can delete the underlined substring in <code>s = "**d**er"</code> which contains 0 vowels. The resulting string is <code>s = "er"</code>.</li><li>Alice plays third, she can delete the whole string <code>s = "**er**"</code> which contains 1 vowel.</li><li>Bob plays fourth, since the string is empty, there is no valid play for Bob. So Alice wins the game.</li></ul><p><strong>Example 2:</strong></p><p><strong>Input:</strong> s = &ldquo;bbcd&rdquo;</p><p><strong>Output:</strong> false</p><p><strong>Explanation:</strong><br>There is no valid play for Alice in her first turn, so Alice loses the game.</p><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= s.length &lt;= 105</code></li><li><code>s</code> consists only of lowercase English letters.</li></ul><hr><p><strong>Solution</strong></p><p>Consider only the number of vowels. If the number of vowels is 0, Alice fails. If it&rsquo;s odd, Alice could remove the whole string, Alice wins. If it&rsquo;s even, after removing odd number of vowels, the remaining number is odd, Alice wins.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>doesAliceWin</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type s: str
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: bool
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>vowels</span> <span class=o>=</span> <span class=s1>&#39;aeiou&#39;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>s</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>vowels</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>False</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=3541-find-most-frequent-vowel-and-consonant-20250913><a href=https://leetcode.com/problems/find-most-frequent-vowel-and-consonant/>3541. Find Most Frequent Vowel and Consonant</a> 2025.09.13<a hidden class=anchor aria-hidden=true href=#3541-find-most-frequent-vowel-and-consonant-20250913>#</a></h3><p>You are given a string <code>s</code> consisting of lowercase English letters (<code>'a'</code> to <code>'z'</code>).</p><p>Your task is to:</p><ul><li>Find the vowel (one of <code>'a'</code>, <code>'e'</code>, <code>'i'</code>, <code>'o'</code>, or <code>'u'</code>) with the <strong>maximum</strong> frequency.</li><li>Find the consonant (all other letters excluding vowels) with the <strong>maximum</strong> frequency.</li></ul><p>Return the sum of the two frequencies.</p><p><strong>Note</strong>: If multiple vowels or consonants have the same maximum frequency, you may choose any one of them. If there are no vowels or no consonants in the string, consider their frequency as 0.</p><p>The <strong>frequency</strong> of a letter <code>x</code> is the number of times it occurs in the string.</p><p><strong>Example 1:</strong></p><p><strong>Input:</strong> s = &ldquo;successes&rdquo;</p><p><strong>Output:</strong> 6</p><p><strong>Explanation:</strong></p><ul><li>The vowels are: <code>'u'</code> (frequency 1), <code>'e'</code> (frequency 2). The maximum frequency is 2.</li><li>The consonants are: <code>'s'</code> (frequency 4), <code>'c'</code> (frequency 2). The maximum frequency is 4.</li><li>The output is <code>2 + 4 = 6</code>.</li></ul><p><strong>Example 2:</strong></p><p><strong>Input:</strong> s = &ldquo;aeiaeia&rdquo;</p><p><strong>Output:</strong> 3</p><p><strong>Explanation:</strong></p><ul><li>The vowels are: <code>'a'</code> (frequency 3), <code>'e'</code> ( frequency 2), <code>'i'</code> (frequency 2). The maximum frequency is 3.</li><li>There are no consonants in <code>s</code>. Hence, maximum consonant frequency = 0.</li><li>The output is <code>3 + 0 = 3</code>.</li></ul><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= s.length &lt;= 100</code></li><li><code>s</code> consists of lowercase English letters only.</li></ul><hr><p><strong>Solution</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>maxFreqSum</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>s</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type s: str
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: int
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>freqs</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=mi>26</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>s</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>freqs</span><span class=p>[</span><span class=nb>ord</span><span class=p>(</span><span class=n>char</span><span class=p>)</span><span class=o>-</span><span class=nb>ord</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>vowel_indice</span> <span class=o>=</span> <span class=p>[</span><span class=nb>ord</span><span class=p>(</span><span class=n>i</span><span class=p>)</span><span class=o>-</span><span class=nb>ord</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=s1>&#39;aeiou&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>vowel_freqs</span> <span class=o>=</span> <span class=p>[</span><span class=n>freqs</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>vowel_indice</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>conson_freqs</span> <span class=o>=</span> <span class=p>[</span><span class=n>freqs</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>26</span><span class=p>)</span> <span class=k>if</span> <span class=n>i</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>vowel_indice</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>max</span><span class=p>(</span><span class=n>vowel_freqs</span><span class=p>)</span> <span class=o>+</span> <span class=nb>max</span><span class=p>(</span><span class=n>conson_freqs</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=966-vowel-spellchecker-20250914><a href=https://leetcode.com/problems/vowel-spellchecker/>966. Vowel Spellchecker</a> 2025.09.14<a hidden class=anchor aria-hidden=true href=#966-vowel-spellchecker-20250914>#</a></h3><p>Given a <code>wordlist</code>, we want to implement a spellchecker that converts a query word into a correct word.</p><p>For a given <code>query</code> word, the spell checker handles two categories of spelling mistakes:</p><ul><li>Capitalization: If the query matches a word in the wordlist (<strong>case-insensitive</strong>), then the query word is returned with the same case as the case in the wordlist.<ul><li>Example: <code>wordlist = ["yellow"]</code>, <code>query = "YellOw"</code>: <code>correct = "yellow"</code></li><li>Example: <code>wordlist = ["Yellow"]</code>, <code>query = "yellow"</code>: <code>correct = "Yellow"</code></li><li>Example: <code>wordlist = ["yellow"]</code>, <code>query = "yellow"</code>: <code>correct = "yellow"</code></li></ul></li><li>Vowel Errors: If after replacing the vowels <code>('a', 'e', 'i', 'o', 'u')</code> of the query word with any vowel individually, it matches a word in the wordlist (<strong>case-insensitive</strong>), then the query word is returned with the same case as the match in the wordlist.<ul><li>Example: <code>wordlist = ["YellOw"]</code>, <code>query = "yollow"</code>: <code>correct = "YellOw"</code></li><li>Example: <code>wordlist = ["YellOw"]</code>, <code>query = "yeellow"</code>: <code>correct = ""</code> (no match)</li><li>Example: <code>wordlist = ["YellOw"]</code>, <code>query = "yllw"</code>: <code>correct = ""</code> (no match)</li></ul></li></ul><p>In addition, the spell checker operates under the following precedence rules:</p><ul><li>When the query exactly matches a word in the wordlist (<strong>case-sensitive</strong>), you should return the same word back.</li><li>When the query matches a word up to capitlization, you should return the first such match in the wordlist.</li><li>When the query matches a word up to vowel errors, you should return the first such match in the wordlist.</li><li>If the query has no matches in the wordlist, you should return the empty string.</li></ul><p>Given some <code>queries</code>, return a list of words <code>answer</code>, where <code>answer[i]</code> is the correct word for <code>query = queries[i]</code>.</p><p><strong>Example 1:</strong></p><p><strong>Input:</strong> wordlist = [&ldquo;KiTe&rdquo;,&ldquo;kite&rdquo;,&ldquo;hare&rdquo;,&ldquo;Hare&rdquo;], queries = [&ldquo;kite&rdquo;,&ldquo;Kite&rdquo;,&ldquo;KiTe&rdquo;,&ldquo;Hare&rdquo;,&ldquo;HARE&rdquo;,&ldquo;Hear&rdquo;,&ldquo;hear&rdquo;,&ldquo;keti&rdquo;,&ldquo;keet&rdquo;,&ldquo;keto&rdquo;]
<strong>Output:</strong> [&ldquo;kite&rdquo;,&ldquo;KiTe&rdquo;,&ldquo;KiTe&rdquo;,&ldquo;Hare&rdquo;,&ldquo;hare&rdquo;,"","",&ldquo;KiTe&rdquo;,"",&ldquo;KiTe&rdquo;]</p><p><strong>Example 2:</strong></p><p><strong>Input:</strong> wordlist = [&ldquo;yellow&rdquo;], queries = [&ldquo;YellOw&rdquo;]
<strong>Output:</strong> [&ldquo;yellow&rdquo;]</p><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= wordlist.length, queries.length &lt;= 5000</code></li><li><code>1 &lt;= wordlist[i].length, queries[i].length &lt;= 7</code></li><li><code>wordlist[i]</code> and <code>queries[i]</code> consist only of only English letters.</li></ul><hr><p><strong>Solution</strong></p><details><summary>First Try: save all matches in one hashmap and extract by priority (TLE in some testcases)</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>spellchecker</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>wordlist</span><span class=p>,</span> <span class=n>queries</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type wordlist: List[str]
</span></span></span><span class=line><span class=cl><span class=s2>        :type queries: List[str]
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: List[str]
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>vowel_error</span><span class=p>(</span><span class=n>word1</span><span class=p>,</span> <span class=n>word2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>word1</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=n>word2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>word1</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>word1</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>!=</span> <span class=n>word2</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>.</span><span class=n>lower</span><span class=p>():</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=n>word1</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>in</span> <span class=s2>&#34;aeiou&#34;</span> <span class=ow>and</span> <span class=n>word2</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>in</span> <span class=s2>&#34;aeiou&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=k>continue</span>
</span></span><span class=line><span class=cl>                    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>match_map</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>query</span> <span class=ow>in</span> <span class=n>queries</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>wordlist</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>word</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=n>query</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>or</span> <span class=n>vowel_error</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=n>word</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                    <span class=n>match_map</span><span class=o>.</span><span class=n>setdefault</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=p>[])</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>word</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>res</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>queries</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>v</span> <span class=o>=</span> <span class=n>match_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>k</span><span class=p>,</span> <span class=p>[])</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>v</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=nb>len</span><span class=p>(</span><span class=n>v</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>v</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>flag</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>                    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>v</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=k>if</span> <span class=n>i</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=n>k</span><span class=o>.</span><span class=n>lower</span><span class=p>():</span>
</span></span><span class=line><span class=cl>                            <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                            <span class=n>flag</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>                            <span class=k>break</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=ow>not</span> <span class=n>flag</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>v</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                            <span class=k>if</span> <span class=n>vowel_error</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>k</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                                <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                                <span class=k>break</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span>
</span></span></code></pre></td></tr></table></div></div></details><details><summary>Optimized by Gemini: Save results in three different hashmaps and lookup hashmap by priority</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>spellchecker</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>wordlist</span><span class=p>,</span> <span class=n>queries</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type wordlist: List[str]
</span></span></span><span class=line><span class=cl><span class=s2>        :type queries: List[str]
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: List[str]
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Helper function to create a &#34;devoweled&#34; version of a word.</span>
</span></span><span class=line><span class=cl>        <span class=c1># Example: &#34;Kite&#34; -&gt; &#34;k*t*&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>devowel</span><span class=p>(</span><span class=n>word</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>vowels</span> <span class=o>=</span> <span class=s2>&#34;aeiou&#34;</span>
</span></span><span class=line><span class=cl>            <span class=c1># Replace each vowel with a placeholder &#39;*&#39;</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s2>&#34;&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s1>&#39;*&#39;</span> <span class=k>if</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>vowels</span> <span class=k>else</span> <span class=n>char</span> <span class=k>for</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>word</span><span class=o>.</span><span class=n>lower</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># --- Step 1: Pre-process the wordlist into fast-lookup maps ---</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># For exact matches (Priority 1)</span>
</span></span><span class=line><span class=cl>        <span class=n>exact_words</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>wordlist</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># For case-insensitive matches (Priority 2)</span>
</span></span><span class=line><span class=cl>        <span class=c1># Maps a lowercase word to its first occurrence in the original wordlist.</span>
</span></span><span class=line><span class=cl>        <span class=n>case_map</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># For vowel-error matches (Priority 3)</span>
</span></span><span class=line><span class=cl>        <span class=c1># Maps a devoweled word to its first occurrence in the original wordlist.</span>
</span></span><span class=line><span class=cl>        <span class=n>vowel_map</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>wordlist</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>lower_word</span> <span class=o>=</span> <span class=n>word</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>devoweled_word</span> <span class=o>=</span> <span class=n>devowel</span><span class=p>(</span><span class=n>word</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># setdefault only sets the value if the key is not already present.</span>
</span></span><span class=line><span class=cl>            <span class=c1># This correctly handles the &#34;first occurrence&#34; rule.</span>
</span></span><span class=line><span class=cl>            <span class=n>case_map</span><span class=o>.</span><span class=n>setdefault</span><span class=p>(</span><span class=n>lower_word</span><span class=p>,</span> <span class=n>word</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>vowel_map</span><span class=o>.</span><span class=n>setdefault</span><span class=p>(</span><span class=n>devoweled_word</span><span class=p>,</span> <span class=n>word</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=c1># --- Step 2: Process queries using the maps ---</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>query</span> <span class=ow>in</span> <span class=n>queries</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># Rule 1: Check for an exact match</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>query</span> <span class=ow>in</span> <span class=n>exact_words</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>query</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>lower_query</span> <span class=o>=</span> <span class=n>query</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># Rule 2: Check for a case-insensitive match</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>lower_query</span> <span class=ow>in</span> <span class=n>case_map</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>case_map</span><span class=p>[</span><span class=n>lower_query</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>            <span class=n>devoweled_query</span> <span class=o>=</span> <span class=n>devowel</span><span class=p>(</span><span class=n>query</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># Rule 3: Check for a vowel-error match</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>devoweled_query</span> <span class=ow>in</span> <span class=n>vowel_map</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>vowel_map</span><span class=p>[</span><span class=n>devoweled_query</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># Rule 4: No match found</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>result</span>
</span></span></code></pre></td></tr></table></div></div></details><h3 id=1935-maximum-number-of-words-you-can-type-20250915><a href=https://leetcode.com/problems/maximum-number-of-words-you-can-type/>1935. Maximum Number of Words You Can Type</a> 2025.09.15<a hidden class=anchor aria-hidden=true href=#1935-maximum-number-of-words-you-can-type-20250915>#</a></h3><p>There is a malfunctioning keyboard where some letter keys do not work. All other keys on the keyboard work properly.</p><p>Given a string <code>text</code> of words separated by a single space (no leading or trailing spaces) and a string <code>brokenLetters</code> of all <strong>distinct</strong> letter keys that are broken, return <em>the <strong>number of words</strong> in</em> <code>text</code> <em>you can fully type using this keyboard</em>.</p><p><strong>Example 1:</strong></p><p><strong>Input:</strong> text = &ldquo;hello world&rdquo;, brokenLetters = &ldquo;ad&rdquo;
<strong>Output:</strong> 1
<strong>Explanation:</strong> We cannot type &ldquo;world&rdquo; because the &rsquo;d&rsquo; key is broken.</p><p><strong>Example 2:</strong></p><p><strong>Input:</strong> text = &ldquo;leet code&rdquo;, brokenLetters = &ldquo;lt&rdquo;
<strong>Output:</strong> 1
<strong>Explanation:</strong> We cannot type &ldquo;leet&rdquo; because the &rsquo;l&rsquo; and &rsquo;t&rsquo; keys are broken.</p><p><strong>Example 3:</strong></p><p><strong>Input:</strong> text = &ldquo;leet code&rdquo;, brokenLetters = &ldquo;e&rdquo;
<strong>Output:</strong> 0
<strong>Explanation:</strong> We cannot type either word because the &rsquo;e&rsquo; key is broken.</p><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= text.length &lt;= 104</code></li><li><code>0 &lt;= brokenLetters.length &lt;= 26</code></li><li><code>text</code> consists of words separated by a single space without any leading or trailing spaces.</li><li>Each word only consists of lowercase English letters.</li><li><code>brokenLetters</code> consists of <strong>distinct</strong> lowercase English letters.</li></ul><hr><p><strong>Solution</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>canBeTypedWords</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>,</span> <span class=n>brokenLetters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type text: str
</span></span></span><span class=line><span class=cl><span class=s2>        :type brokenLetters: str
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: int
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>words</span> <span class=o>=</span> <span class=n>text</span><span class=o>.</span><span class=n>split</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>words</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>flag</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>brokenLetters</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>word</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>flag</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>flag</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>count</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=2197-replace-non-coprime-numbers-in-array-20250916><a href=https://leetcode.com/problems/replace-non-coprime-numbers-in-array/>2197. Replace Non-Coprime Numbers in Array</a> 2025.09.16<a hidden class=anchor aria-hidden=true href=#2197-replace-non-coprime-numbers-in-array-20250916>#</a></h3><p>You are given an array of integers <code>nums</code>. Perform the following steps:</p><ol><li>Find <strong>any</strong> two <strong>adjacent</strong> numbers in <code>nums</code> that are <strong>non-coprime</strong>.</li><li>If no such numbers are found, <strong>stop</strong> the process.</li><li>Otherwise, delete the two numbers and <strong>replace</strong> them with their <strong>LCM (Least Common Multiple)</strong>.</li><li><strong>Repeat</strong> this process as long as you keep finding two adjacent non-coprime numbers.</li></ol><p>Return <em>the <strong>final</strong> modified array.</em> It can be shown that replacing adjacent non-coprime numbers in <strong>any</strong> arbitrary order will lead to the same result.</p><p>The test cases are generated such that the values in the final array are <strong>less than or equal</strong> to <code>108</code>.</p><p>Two values <code>x</code> and <code>y</code> are <strong>non-coprime</strong> if <code>GCD(x, y) > 1</code> where <code>GCD(x, y)</code> is the <strong>Greatest Common Divisor</strong> of <code>x</code> and <code>y</code>.</p><p><strong>Example 1:</strong></p><p><strong>Input:</strong> nums = [6,4,3,2,7,6,2]
<strong>Output:</strong> [12,7,6]
<strong>Explanation:</strong></p><ul><li>(6, 4) are non-coprime with LCM(6, 4) = 12. Now, nums = [<strong>12</strong>,3,2,7,6,2].</li><li>(12, 3) are non-coprime with LCM(12, 3) = 12. Now, nums = [<strong>12</strong>,2,7,6,2].</li><li>(12, 2) are non-coprime with LCM(12, 2) = 12. Now, nums = [<strong>12</strong>,7,6,2].</li><li>(6, 2) are non-coprime with LCM(6, 2) = 6. Now, nums = [12,7,<strong>6</strong>].
There are no more adjacent non-coprime numbers in nums.
Thus, the final modified array is [12,7,6].
Note that there are other ways to obtain the same resultant array.</li></ul><p><strong>Example 2:</strong></p><p><strong>Input:</strong> nums = [2,2,1,1,3,3,3]
<strong>Output:</strong> [2,1,1,3]
<strong>Explanation:</strong></p><ul><li>(3, 3) are non-coprime with LCM(3, 3) = 3. Now, nums = [2,2,1,1,<strong>3</strong>,3].</li><li>(3, 3) are non-coprime with LCM(3, 3) = 3. Now, nums = [2,2,1,1,<strong>3</strong>].</li><li>(2, 2) are non-coprime with LCM(2, 2) = 2. Now, nums = [<strong>2</strong>,1,1,3].
There are no more adjacent non-coprime numbers in nums.
Thus, the final modified array is [2,1,1,3].
Note that there are other ways to obtain the same resultant array.</li></ul><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 105</code></li><li><code>1 &lt;= nums[i] &lt;= 105</code></li><li>The test cases are generated such that the values in the final array are <strong>less than or equal</strong> to <code>108</code>.</li></ul><hr><p><strong>Solution</strong></p><details><summary>Intuitive solution, followed by instructions in the description, but fails by TLE on some testcases</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>replaceNonCoprimes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type nums: List[int]
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: List[int]
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>gcd</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>b</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>b</span><span class=p>,</span> <span class=n>a</span> <span class=o>%</span> <span class=n>b</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>a</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>lcm</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>a</span> <span class=o>*</span> <span class=n>b</span> <span class=o>/</span> <span class=n>gcd</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>nums</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>NonCoprime</span><span class=p>(</span><span class=n>nums</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>gcd</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>])</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=ow>not</span> <span class=n>NonCoprime</span><span class=p>(</span><span class=n>nums</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>gcd</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>])</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>lcm</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                    <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>            <span class=n>nums</span> <span class=o>=</span> <span class=p>[</span><span class=n>num</span> <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>nums</span> <span class=k>if</span> <span class=n>num</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>nums</span>
</span></span></code></pre></td></tr></table></div></div></details><details><summary>Optimized by Claude by stack</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>replaceNonCoprimes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type nums: List[int]
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: List[int]
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>gcd</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=n>b</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>b</span><span class=p>,</span> <span class=n>a</span> <span class=o>%</span> <span class=n>b</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>a</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>lcm</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>a</span> <span class=o>*</span> <span class=n>b</span> <span class=o>//</span> <span class=n>gcd</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>  <span class=c1># Use integer division</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>nums</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>stack</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>nums</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>stack</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1># Keep merging with the previous element while they&#39;re not coprime</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=nb>len</span><span class=p>(</span><span class=n>stack</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=mi>2</span> <span class=ow>and</span> <span class=n>gcd</span><span class=p>(</span><span class=n>stack</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>],</span> <span class=n>stack</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=c1># Pop the last two elements, compute their LCM, and push back</span>
</span></span><span class=line><span class=cl>                <span class=n>b</span> <span class=o>=</span> <span class=n>stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>a</span> <span class=o>=</span> <span class=n>stack</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>stack</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>lcm</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>stack</span>
</span></span></code></pre></td></tr></table></div></div></details><h3 id=2353-design-a-food-rating-system-20250917><a href=https://leetcode.com/problems/design-a-food-rating-system/>2353. Design a Food Rating System</a> 2025.09.17<a hidden class=anchor aria-hidden=true href=#2353-design-a-food-rating-system-20250917>#</a></h3><p>Design a food rating system that can do the following:</p><ul><li><strong>Modify</strong> the rating of a food item listed in the system.</li><li>Return the highest-rated food item for a type of cuisine in the system.</li></ul><p>Implement the <code>FoodRatings</code> class:</p><ul><li><code>FoodRatings(String[] foods, String[] cuisines, int[] ratings)</code> Initializes the system. The food items are described by <code>foods</code>, <code>cuisines</code> and <code>ratings</code>, all of which have a length of <code>n</code>.<ul><li><code>foods[i]</code> is the name of the <code>ith</code> food,</li><li><code>cuisines[i]</code> is the type of cuisine of the <code>ith</code> food, and</li><li><code>ratings[i]</code> is the initial rating of the <code>ith</code> food.</li></ul></li><li><code>void changeRating(String food, int newRating)</code> Changes the rating of the food item with the name <code>food</code>.</li><li><code>String highestRated(String cuisine)</code> Returns the name of the food item that has the highest rating for the given type of <code>cuisine</code>. If there is a tie, return the item with the <strong>lexicographically smaller</strong> name.</li></ul><p>Note that a string <code>x</code> is lexicographically smaller than string <code>y</code> if <code>x</code> comes before <code>y</code> in dictionary order, that is, either <code>x</code> is a prefix of <code>y</code>, or if <code>i</code> is the first position such that <code>x[i] != y[i]</code>, then <code>x[i]</code> comes before <code>y[i]</code> in alphabetic order.</p><p><strong>Example 1:</strong></p><p><strong>Input</strong>
[&ldquo;FoodRatings&rdquo;, &ldquo;highestRated&rdquo;, &ldquo;highestRated&rdquo;, &ldquo;changeRating&rdquo;, &ldquo;highestRated&rdquo;, &ldquo;changeRating&rdquo;, &ldquo;highestRated&rdquo;]
[[[&ldquo;kimchi&rdquo;, &ldquo;miso&rdquo;, &ldquo;sushi&rdquo;, &ldquo;moussaka&rdquo;, &ldquo;ramen&rdquo;, &ldquo;bulgogi&rdquo;], [&ldquo;korean&rdquo;, &ldquo;japanese&rdquo;, &ldquo;japanese&rdquo;, &ldquo;greek&rdquo;, &ldquo;japanese&rdquo;, &ldquo;korean&rdquo;], [9, 12, 8, 15, 14, 7]], [&ldquo;korean&rdquo;], [&ldquo;japanese&rdquo;], [&ldquo;sushi&rdquo;, 16], [&ldquo;japanese&rdquo;], [&ldquo;ramen&rdquo;, 16], [&ldquo;japanese&rdquo;]]<br><strong>Output</strong><br>[null, &ldquo;kimchi&rdquo;, &ldquo;ramen&rdquo;, null, &ldquo;sushi&rdquo;, null, &ldquo;ramen&rdquo;]</p><p><strong>Explanation</strong>
FoodRatings foodRatings = new FoodRatings([&ldquo;kimchi&rdquo;, &ldquo;miso&rdquo;, &ldquo;sushi&rdquo;, &ldquo;moussaka&rdquo;, &ldquo;ramen&rdquo;, &ldquo;bulgogi&rdquo;], [&ldquo;korean&rdquo;, &ldquo;japanese&rdquo;, &ldquo;japanese&rdquo;, &ldquo;greek&rdquo;, &ldquo;japanese&rdquo;, &ldquo;korean&rdquo;], [9, 12, 8, 15, 14, 7]);<br>foodRatings.highestRated(&ldquo;korean&rdquo;); // return &ldquo;kimchi&rdquo;<br>// &ldquo;kimchi&rdquo; is the highest rated korean food with a rating of 9.<br>foodRatings.highestRated(&ldquo;japanese&rdquo;); // return &ldquo;ramen&rdquo;<br>// &ldquo;ramen&rdquo; is the highest rated japanese food with a rating of 14.<br>foodRatings.changeRating(&ldquo;sushi&rdquo;, 16); // &ldquo;sushi&rdquo; now has a rating of 16.<br>foodRatings.highestRated(&ldquo;japanese&rdquo;); // return &ldquo;sushi&rdquo;<br>// &ldquo;sushi&rdquo; is the highest rated japanese food with a rating of 16.<br>foodRatings.changeRating(&ldquo;ramen&rdquo;, 16); // &ldquo;ramen&rdquo; now has a rating of 16.<br>foodRatings.highestRated(&ldquo;japanese&rdquo;); // return &ldquo;ramen&rdquo;<br>// Both &ldquo;sushi&rdquo; and &ldquo;ramen&rdquo; have a rating of 16.<br>// However, &ldquo;ramen&rdquo; is lexicographically smaller than &ldquo;sushi&rdquo;.</p><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= n &lt;= 2 * 104</code></li><li><code>n == foods.length == cuisines.length == ratings.length</code></li><li><code>1 &lt;= foods[i].length, cuisines[i].length &lt;= 10</code></li><li><code>foods[i]</code>, <code>cuisines[i]</code> consist of lowercase English letters.</li><li><code>1 &lt;= ratings[i] &lt;= 108</code></li><li>All the strings in <code>foods</code> are <strong>distinct</strong>.</li><li><code>food</code> will be the name of a food item in the system across all calls to <code>changeRating</code>.</li><li><code>cuisine</code> will be a type of cuisine of <strong>at least one</strong> food item in the system across all calls to <code>highestRated</code>.</li><li>At most <code>2 * 104</code> calls <strong>in total</strong> will be made to <code>changeRating</code> and <code>highestRated</code>.</li></ul><hr><p><strong>Solution</strong></p><details><summary>Direct implementation by lists. $\mathcal O(n)$ time complexity. TLE on some testcases</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>FoodRatings</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>foods</span><span class=p>,</span> <span class=n>cuisines</span><span class=p>,</span> <span class=n>ratings</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type foods: List[str]
</span></span></span><span class=line><span class=cl><span class=s2>        :type cuisines: List[str]
</span></span></span><span class=line><span class=cl><span class=s2>        :type ratings: List[int]
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>foods</span> <span class=o>=</span> <span class=n>foods</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cuisines</span> <span class=o>=</span> <span class=n>cuisines</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ratings</span> <span class=o>=</span> <span class=n>ratings</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>changeRating</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>food</span><span class=p>,</span> <span class=n>newRating</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type food: str
</span></span></span><span class=line><span class=cl><span class=s2>        :type newRating: int
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: None
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ratings</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>foods</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>food</span><span class=p>)]</span> <span class=o>=</span> <span class=n>newRating</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>highestRated</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>cuisine</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type cuisine: str
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: str
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>idx</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cuisines</span><span class=p>))</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>cuisines</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>cuisine</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>max_rating</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ratings</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>idx</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>max_food</span> <span class=o>=</span> <span class=nb>list</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>idx</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>ratings</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>max_rating</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>max_food</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>foods</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>min</span><span class=p>(</span><span class=n>max_food</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Your FoodRatings object will be instantiated and called as such:</span>
</span></span><span class=line><span class=cl><span class=c1># obj = FoodRatings(foods, cuisines, ratings)</span>
</span></span><span class=line><span class=cl><span class=c1># obj.changeRating(food,newRating)</span>
</span></span><span class=line><span class=cl><span class=c1># param_2 = obj.highestRated(cuisine)</span>
</span></span></code></pre></td></tr></table></div></div></details><details><summary>Optimized by hashtable and heap</summary><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>heapq</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>FoodRatings</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>foods</span><span class=p>,</span> <span class=n>cuisines</span><span class=p>,</span> <span class=n>ratings</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type foods: List[str]
</span></span></span><span class=line><span class=cl><span class=s2>        :type cuisines: List[str]
</span></span></span><span class=line><span class=cl><span class=s2>        :type ratings: List[int]
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>food_info</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>cuisines</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>f</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=n>r</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>foods</span><span class=p>,</span> <span class=n>cuisines</span><span class=p>,</span> <span class=n>ratings</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>food_info</span><span class=p>[</span><span class=n>f</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span><span class=n>c</span><span class=p>,</span> <span class=n>r</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>c</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>cuisines</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=bp>self</span><span class=o>.</span><span class=n>cuisines</span><span class=p>[</span><span class=n>c</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>            <span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cuisines</span><span class=p>[</span><span class=n>c</span><span class=p>],</span> <span class=p>(</span><span class=o>-</span><span class=n>r</span><span class=p>,</span> <span class=n>f</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>changeRating</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>food</span><span class=p>,</span> <span class=n>newRating</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type food: str
</span></span></span><span class=line><span class=cl><span class=s2>        :type newRating: int
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: None
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>food_info</span><span class=p>[</span><span class=n>food</span><span class=p>][</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>newRating</span>
</span></span><span class=line><span class=cl>        <span class=n>cuisine</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>food_info</span><span class=p>[</span><span class=n>food</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cuisines</span><span class=p>[</span><span class=n>cuisine</span><span class=p>],</span> <span class=p>(</span><span class=o>-</span><span class=n>newRating</span><span class=p>,</span> <span class=n>food</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>highestRated</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>cuisine</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type cuisine: str
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: str
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>heap</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cuisines</span><span class=p>[</span><span class=n>cuisine</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=n>heap</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>rating</span><span class=p>,</span> <span class=n>food</span> <span class=o>=</span> <span class=n>heap</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>rating</span> <span class=o>=</span> <span class=o>-</span><span class=n>rating</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>rating</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>food_info</span><span class=p>[</span><span class=n>food</span><span class=p>][</span><span class=mi>1</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>food</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>heapq</span><span class=o>.</span><span class=n>heappop</span><span class=p>(</span><span class=n>heap</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Your FoodRatings object will be instantiated and called as such:</span>
</span></span><span class=line><span class=cl><span class=c1># obj = FoodRatings(foods, cuisines, ratings)</span>
</span></span><span class=line><span class=cl><span class=c1># obj.changeRating(food,newRating)</span>
</span></span><span class=line><span class=cl><span class=c1># param_2 = obj.highestRated(cuisine)</span>
</span></span></code></pre></td></tr></table></div></div></details><h3 id=3408-design-task-manager-20250918><a href=https://leetcode.com/problems/design-task-manager/>3408. Design Task Manager</a> 2025.09.18<a hidden class=anchor aria-hidden=true href=#3408-design-task-manager-20250918>#</a></h3><p>There is a task management system that allows users to manage their tasks, each associated with a priority. The system should efficiently handle adding, modifying, executing, and removing tasks.</p><p>Implement the <code>TaskManager</code> class:</p><ul><li><p><code>TaskManager(vector&lt;vector&lt;int>>& tasks)</code> initializes the task manager with a list of user-task-priority triples. Each element in the input list is of the form <code>[userId, taskId, priority]</code>, which adds a task to the specified user with the given priority.</p></li><li><p><code>void add(int userId, int taskId, int priority)</code> adds a task with the specified <code>taskId</code> and <code>priority</code> to the user with <code>userId</code>. It is <strong>guaranteed</strong> that <code>taskId</code> does not <em>exist</em> in the system.</p></li><li><p><code>void edit(int taskId, int newPriority)</code> updates the priority of the existing <code>taskId</code> to <code>newPriority</code>. It is <strong>guaranteed</strong> that <code>taskId</code> <em>exists</em> in the system.</p></li><li><p><code>void rmv(int taskId)</code> removes the task identified by <code>taskId</code> from the system. It is <strong>guaranteed</strong> that <code>taskId</code> <em>exists</em> in the system.</p></li><li><p><code>int execTop()</code> executes the task with the <strong>highest</strong> priority across all users. If there are multiple tasks with the same <strong>highest</strong> priority, execute the one with the highest <code>taskId</code>. After executing, the <code>taskId</code> is <strong>removed</strong> from the system. Return the <code>userId</code> associated with the executed task. If no tasks are available, return -1.</p></li></ul><p><strong>Note</strong> that a user may be assigned multiple tasks.</p><p><strong>Example 1:</strong></p><p><strong>Input:</strong><br>[&ldquo;TaskManager&rdquo;, &ldquo;add&rdquo;, &ldquo;edit&rdquo;, &ldquo;execTop&rdquo;, &ldquo;rmv&rdquo;, &ldquo;add&rdquo;, &ldquo;execTop&rdquo;]<br>[[[[1, 101, 10], [2, 102, 20], [3, 103, 15]]], [4, 104, 5], [102, 8], [], [101], [5, 105, 15], []]</p><p><strong>Output:</strong><br>[null, null, null, 3, null, null, 5]</p><p><strong>Explanation</strong></p><p>TaskManager taskManager = new TaskManager([[1, 101, 10], [2, 102, 20], [3, 103, 15]]); // Initializes with three tasks for Users 1, 2, and 3.<br>taskManager.add(4, 104, 5); // Adds task 104 with priority 5 for User 4.<br>taskManager.edit(102, 8); // Updates priority of task 102 to 8.<br>taskManager.execTop(); // return 3. Executes task 103 for User 3.<br>taskManager.rmv(101); // Removes task 101 from the system.<br>taskManager.add(5, 105, 15); // Adds task 105 with priority 15 for User 5.<br>taskManager.execTop(); // return 5. Executes task 105 for User 5.</p><p><strong>Constraints:</strong></p><ul><li><code>1 &lt;= tasks.length &lt;= 105</code></li><li><code>0 &lt;= userId &lt;= 105</code></li><li><code>0 &lt;= taskId &lt;= 105</code></li><li><code>0 &lt;= priority &lt;= 109</code></li><li><code>0 &lt;= newPriority &lt;= 109</code></li><li>At most <code>2 * 105</code> calls will be made in <strong>total</strong> to <code>add</code>, <code>edit</code>, <code>rmv</code>, and <code>execTop</code> methods.</li><li>The input is generated such that <code>taskId</code> will be valid.</li></ul><hr><p><strong>Solution</strong></p><p>Similar to last daily problem. Use a hashmap to store all tasks and a heap to store priority with lazy cleanup.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>heapq</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>TaskManager</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>tasks</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type tasks: List[List[int]]
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>tasks</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>priority</span> <span class=o>=</span> <span class=nb>list</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>task</span> <span class=ow>in</span> <span class=n>tasks</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>uid</span><span class=p>,</span> <span class=n>tid</span><span class=p>,</span> <span class=n>prio</span> <span class=o>=</span> <span class=n>task</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>tasks</span><span class=p>[</span><span class=n>tid</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span><span class=n>uid</span><span class=p>,</span> <span class=n>prio</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>priority</span><span class=p>,</span> <span class=p>(</span><span class=o>-</span><span class=n>prio</span><span class=p>,</span> <span class=o>-</span><span class=n>tid</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>userId</span><span class=p>,</span> <span class=n>taskId</span><span class=p>,</span> <span class=n>priority</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type userId: int
</span></span></span><span class=line><span class=cl><span class=s2>        :type taskId: int
</span></span></span><span class=line><span class=cl><span class=s2>        :type priority: int
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: None
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>tasks</span><span class=p>[</span><span class=n>taskId</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span><span class=n>userId</span><span class=p>,</span> <span class=n>priority</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>priority</span><span class=p>,</span> <span class=p>(</span><span class=o>-</span><span class=n>priority</span><span class=p>,</span> <span class=o>-</span><span class=n>taskId</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>edit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>taskId</span><span class=p>,</span> <span class=n>newPriority</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type taskId: int
</span></span></span><span class=line><span class=cl><span class=s2>        :type newPriority: int
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: None
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>tasks</span><span class=p>[</span><span class=n>taskId</span><span class=p>][</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>newPriority</span>
</span></span><span class=line><span class=cl>        <span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>priority</span><span class=p>,</span> <span class=p>(</span><span class=o>-</span><span class=n>newPriority</span><span class=p>,</span> <span class=o>-</span><span class=n>taskId</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>rmv</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>taskId</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :type taskId: int
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: None
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>tasks</span><span class=p>[</span><span class=n>taskId</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>execTop</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        :rtype: int
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>tasks</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>priority</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>prio</span><span class=p>,</span> <span class=n>tid</span> <span class=o>=</span> <span class=n>heapq</span><span class=o>.</span><span class=n>heappop</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>priority</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>prio</span> <span class=o>=</span> <span class=o>-</span><span class=n>prio</span>
</span></span><span class=line><span class=cl>            <span class=n>tid</span> <span class=o>=</span> <span class=o>-</span><span class=n>tid</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>tid</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>tasks</span> <span class=ow>and</span> <span class=n>prio</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>tasks</span><span class=p>[</span><span class=n>tid</span><span class=p>][</span><span class=mi>1</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=n>uid</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>tasks</span><span class=p>[</span><span class=n>tid</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>tasks</span><span class=p>[</span><span class=n>tid</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>uid</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Your TaskManager object will be instantiated and called as such:</span>
</span></span><span class=line><span class=cl><span class=c1># obj = TaskManager(tasks)</span>
</span></span><span class=line><span class=cl><span class=c1># obj.add(userId,taskId,priority)</span>
</span></span><span class=line><span class=cl><span class=c1># obj.edit(taskId,newPriority)</span>
</span></span><span class=line><span class=cl><span class=c1># obj.rmv(taskId)</span>
</span></span><span class=line><span class=cl><span class=c1># param_4 = obj.execTop()</span>
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://cyliu.cc/tags/code/>Code</a></li></ul><nav class=paginav><a class=next href=https://cyliu.cc/posts/french_grammar/><span class=title>Next »</span><br><span>French Grammar for Dummies</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://cyliu.cc/>CYLiu</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>